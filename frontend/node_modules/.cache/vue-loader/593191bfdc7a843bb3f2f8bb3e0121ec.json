{"remainingRequest":"C:\\Users\\struc\\OneDrive\\Radna površina\\novo\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\struc\\OneDrive\\Radna površina\\novo\\frontend\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\struc\\OneDrive\\Radna površina\\novo\\frontend\\src\\components\\Login.vue","mtime":1566730452000},{"path":"C:\\Users\\struc\\OneDrive\\Radna površina\\novo\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\struc\\OneDrive\\Radna površina\\novo\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\struc\\OneDrive\\Radna površina\\novo\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\struc\\OneDrive\\Radna površina\\novo\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from 'axios'\nimport Obavijest from './Obavijest.vue'\nimport EventBus from './EventBus'\nimport router from '../router'\n\nexport default {\n  data () {\n    return {\n      loginForm: {\n        email: '',\n        lozinka: ''\n      },\n      show: true,\n      showMessage: false\n    }\n  },\n  components: {\n    obavijest: Obavijest\n  },\n  methods: {\n    prijavaKorisnika (prijavaKorisnik) {\n      const path = 'http://localhost:5000/prijava'\n      axios.post(path, prijavaKorisnik)\n        .then((res) => {\n          localStorage.setItem('usertoken', res.data)\n          this.loginForm.email = ''\n          this.loginForm.lozinka = ''\n          router.push({name: 'Profile'})\n          // if (res.status === 'success') {\n          //   localStorage.setItem('usertoken', res.data)\n          //   this.loginForm.email = ''\n          //   this.loginForm.lozinka = ''\n          //   this.showMessage = true\n          //   router.push({name: 'Profile'})\n          // }\n\n          // this.message = 'Korisnik prijavljen!'\n          // console.log('Korisnik prijavljen!')\n          // this.showMessage = true\n          // this.push('/troskovi')\n        })\n        .catch((error) => {\n          // this.message = 'Pogresan unos!'\n          // this.showMessage = true\n          console.log(error)\n        })\n      this.emitMethod()\n    },\n    emitMethod () {\n      EventBus.$emit('logged-in', 'loggedin')\n    },\n    onSubmit (evt) {\n      evt.preventDefault()\n      const prijavaKorisnik = {\n        email: this.loginForm.email,\n        lozinka: this.loginForm.lozinka\n      }\n      this.prijavaKorisnika(prijavaKorisnik)\n      // window.location = '/'\n      // TODO: redirect to home\n    }\n  },\n  created () {\n\n  }\n}\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <div class=\"loginheader\">\n      <br><br><br><br>\n      <h1 style=\"color: whitesmoke\">LOGIN ON FINANCIS</h1>\n    </div>\n    <obavijest :message=\"message\" v-if=\"showMessage\"></obavijest>\n  <div class=\"inputFormStyle\">\n    <br><br>\n    <b-form @submit=\"onSubmit\" v-if=\"show\" class=\"loginform\">\n      <b-form-group\n        id=\"input-group-1\"\n        label=\"Email:\"\n        label-for=\"input-1\"\n        description=\"We'll never share your email with anyone else.\"\n      >\n        <b-form-input\n          id=\"input-1\"\n          v-model=\"loginForm.email\"\n          type=\"email\"\n          required\n          placeholder=\"Enter email\"\n        ></b-form-input>\n      </b-form-group>\n\n      <b-form-group id=\"input-group-2\" label=\"Password:\" label-for=\"input-2\">\n        <b-form-input\n          id=\"input-2\"\n          v-model=\"loginForm.lozinka\"\n          type=\"password\"\n          required\n          placeholder=\"Enter password\"\n        ></b-form-input>\n      </b-form-group>\n\n      <b-button type=\"submit\" variant=\"primary\" style=\"background-color: khaki; color: black; padding: 5px 20px; margin-left: 100px\">Log in</b-button>\n      <br><br>\n      <span style=\"color: whitesmoke\">Don't have an account?</span><router-link to=\"/registration\"> SIGN UP</router-link>\n    </b-form>\n  </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport Obavijest from './Obavijest.vue'\nimport EventBus from './EventBus'\nimport router from '../router'\n\nexport default {\n  data () {\n    return {\n      loginForm: {\n        email: '',\n        lozinka: ''\n      },\n      show: true,\n      showMessage: false\n    }\n  },\n  components: {\n    obavijest: Obavijest\n  },\n  methods: {\n    prijavaKorisnika (prijavaKorisnik) {\n      const path = 'http://localhost:5000/prijava'\n      axios.post(path, prijavaKorisnik)\n        .then((res) => {\n          localStorage.setItem('usertoken', res.data)\n          this.loginForm.email = ''\n          this.loginForm.lozinka = ''\n          router.push({name: 'Profile'})\n          // if (res.status === 'success') {\n          //   localStorage.setItem('usertoken', res.data)\n          //   this.loginForm.email = ''\n          //   this.loginForm.lozinka = ''\n          //   this.showMessage = true\n          //   router.push({name: 'Profile'})\n          // }\n\n          // this.message = 'Korisnik prijavljen!'\n          // console.log('Korisnik prijavljen!')\n          // this.showMessage = true\n          // this.push('/troskovi')\n        })\n        .catch((error) => {\n          // this.message = 'Pogresan unos!'\n          // this.showMessage = true\n          console.log(error)\n        })\n      this.emitMethod()\n    },\n    emitMethod () {\n      EventBus.$emit('logged-in', 'loggedin')\n    },\n    onSubmit (evt) {\n      evt.preventDefault()\n      const prijavaKorisnik = {\n        email: this.loginForm.email,\n        lozinka: this.loginForm.lozinka\n      }\n      this.prijavaKorisnika(prijavaKorisnik)\n      // window.location = '/'\n      // TODO: redirect to home\n    }\n  },\n  created () {\n\n  }\n}\n</script>\n\n<style>\n  .inputFormStyle{\n    margin: auto;\n    width: 700px;\n    height: 400px;\n    background-color: #86989B;\n    text-align: left;\n  }\n  .loginheader{\n    width: 700px;\n    height: 200px;\n    margin: auto;\n  }\n  .loginform{\n    width: 300px;\n    margin: auto;\n  }\n</style>\n"]}]}